{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedido - Mesa {{ table.number }}</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="light-theme"> <div style="padding: 20px 0 0 30px; max-width: 1200px; margin: 0 auto;">
         <a href="{% url 'index' %}" style="text-decoration: none; color: var(--primary-blue); font-weight: bold;">
            <i class="fas fa-arrow-left"></i> Volver a Mesas
         </a>
         <h2 style="margin-top: 10px; color: var(--primary-blue);">Editando Mesa {{ table.number }}</h2>
    </div>


    <div class="pos-container">
        <div class="top-actions-bar">
            <button class="action-btn"><i class="fas fa-user"></i> seleccionar mesero</button>
            <button class="action-btn"><i class="fas fa-save"></i> grabar mesa</button>
            <button class="action-btn"><i class="fas fa-edit"></i> editar mesa</button>
            <button class="action-btn"><i class="fas fa-trash"></i> eliminar mesa</button>
            <button class="action-btn"><i class="fas fa-credit-card"></i> cuenta mesa</button>
            <button class="action-btn"><i class="fas fa-receipt"></i> facturar mesa</button>
        </div>

        <div class="main-pos-grid">
            
            <div class="left-panel product-selection-area card-style">
                <h3 class="panel-title">Seleccione producto</h3>
                <div class="search-bar-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" class="search-input" placeholder="buscar:">
                </div>
                
                <div class="categories-container card-style-inner">
                    <button class="category-btn active">IND</button>
                    <button class="category-btn">MED</button>
                    <button class="category-btn">FAM</button>
                    <button class="category-btn">BEBIDAS</button>
                </div>
                </div>

            <div class="right-panel cart-area">
                <div class="info-inputs">
                    <div class="input-group">
                        <input type="text" 
                            value="TASA: {{ tasa_cambio|default:'Cargando...' }}" 
                            readonly
                            class="readonly-field"
                            style="background-color: #e9ecef; color: #495057; font-weight: bold;">
                    </div>
                    <div class="input-group">
                        <input type="text" id="fecha-hora-live" readonly class="readonly-field">
                    </div>
                    <div class="input-group">
                        <input type="text" placeholder="mesero:">
                    </div>
                </div>

                <div class="cart-summary card-style">
                    <div class="cart-header">
                        <span>ITEM</span>
                        <span>CANT</span>
                        <span>PRECIO</span>
                    </div>
                    <div class="cart-items-list">
                        <p style="text-align: center; color: #aaa; padding-top: 50px;">Carrito vacío</p>
                    </div>
                    <div class="cart-footer">
                        <span class="total-label">TOTAL:</span>
                        <span class="total-amount">0,0</span>
                    </div>
                </div>
            </div>

        </div>
    </div>

    </div> 
    <script>
        function actualizarReloj() {
            // 1. Obtener la fecha actual del computador
            const ahora = new Date();

            // 2. Funciones auxiliares para asegurar 2 dígitos (ej. "05" en vez de "5")
            const formatoDosDigitos = (num) => num.toString().padStart(2, '0');

            // 3. Extraer los componentes
            const dia = formatoDosDigitos(ahora.getDate());
            const mes = formatoDosDigitos(ahora.getMonth() + 1); // Los meses en JS van de 0 a 11
            const anio = ahora.getFullYear();
            const horas = formatoDosDigitos(ahora.getHours());
            const minutos = formatoDosDigitos(ahora.getMinutes());
            const segundos = formatoDosDigitos(ahora.getSeconds());

            // 4. Crear el string final (formato: DD/MM/AAAA HH:MM:SS)
            const fechaHoraString = `${dia}/${mes}/${anio} ${horas}:${minutos}:${segundos}`;

            // 5. Insertar el texto en el input
            const inputFecha = document.getElementById('fecha-hora-live');
            if (inputFecha) {
                inputFecha.value = fechaHoraString;
            }
        }

        // Ejecutar la función inmediatamente al cargar la página
        actualizarReloj();
    </script>

</body>
</html>

</body>
</html>